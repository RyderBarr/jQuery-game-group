<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> <link rel="stylesheet" href="TestField.css">
    <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style/textfield.css">
</head>
<body>
    <div class="col1">
        <div class="row1">

        </div>
    </div>
</body>
<script>

$(document).ready(function() {  




var head_right = "snake assets/head_right.svg";    
var head_left = "snake assets/head_left.svg";    
var head_up = "snake assets/head_up.svg";    
var head_down = "snake assets/head_down.svg";  




var bodysrc = "snake assets/body_horizontal.svg";    
var body_vertical = "snake assets/body_vertical.svg";    
var body_topleft = "snake assets/body_topleft.svg";    
var body_topright = "snake assets/body_topright.svg";    
var body_bottomleft = "snake assets/body_bottomleft.svg";    
var body_bottomright = "snake assets/body_bottomright.svg";  




var tail_right = "snake assets/tail_right.svg";    
var tail_left = "snake assets/tail_left.svg";    
var tail_up = "snake assets/tail_up.svg";    
var tail_down = "snake assets/tail_down.svg";  




var direction = "right";      
var lastDirection = "right";      
var tailDirection = "right";      
var moving = false;      
var snake = [54, 52, 53];      




function getCurve(past, direction) {    


  if ((past == "right" && direction == "down")) {      
    return body_bottomleft;      
  }    


  if ( past == "down" && direction == "left") {      
    return body_topleft;      
  }    

  if (past == "right" && direction == "up"){
        return body_topleft
  }

  if (past == "up" && direction == "right") {      
    return body_bottomright;      
  }    


  if ((past == "left" && direction == "up")) {      
    return body_topright;      
  }    
if (past == "up" && direction == "left"){
        return body_bottomleft

}
if (past == "left" && direction == "down"){
        return body_bottomright
}
if (past == "down" && direction == "right"){
        return body_topright
}


}  




function moveSnake() {      


  if (!moving) {      
    return;      
  }    


  var headLoc = snake[0];    
  var tailLoc = snake[snake.length - 1];    


  var newHeadLoc = headLoc;    




  if (direction == "right") {      
    newHeadLoc = headLoc + 1;      
    if (newHeadLoc % 10 == 0) {      
      clearInterval(moving);      
    }      
  }    


  if (direction == "left") {      
    newHeadLoc = headLoc - 1;      
    if ((headLoc % 10) - 1 == 0) {      
      clearInterval(moving);      
    }      
  }    


  if (direction == "up") {      
    newHeadLoc = headLoc - 10;      
    if (newHeadLoc < 1) {      
      clearInterval(moving);      
    }      
  }    


  if (direction == "down") {      
    newHeadLoc = headLoc + 10;      
    if (newHeadLoc > 100) {      
      clearInterval(moving);      
    }      
  }    


  snake.unshift(newHeadLoc);      
  var oldTail = snake.pop();      




  $("." + oldTail).html("");      




  var bodyImg = "";      


  if (lastDirection != direction) {      
    bodyImg = getCurve(lastDirection, direction);      
    if (bodyImg == "") {      
      bodyImg = (direction == "right" || direction == "left") ? bodysrc : body_vertical;      
    }      
  } else {      
    bodyImg = (direction == "right" || direction == "left") ? bodysrc : body_vertical;      
  }      




  $("." + headLoc).html('<img src="' + bodyImg + '" class="body">');      




  if (direction == "right") {      
    $("." + newHeadLoc).html('<img src="' + head_right + '" class="head">');      
  }    
  if (direction == "left") {      
    $("." + newHeadLoc).html('<img src="' + head_left + '" class="head">');      
  }    
  if (direction == "up") {      
    $("." + newHeadLoc).html('<img src="' + head_up + '" class="head">');      
  }    
  if (direction == "down") {      
    $("." + newHeadLoc).html('<img src="' + head_down + '" class="head">');      
  }    




  var newTailLoc = snake[snake.length - 1];      
  var newTailImg = tail_right;      


  if (snake.length > 1) {      
    var beforeTail = snake[snake.length - 2];      


    if (beforeTail - newTailLoc == 1) {      
      newTailImg = tail_left;      
    }    


    if (beforeTail - newTailLoc == -1) {      
      newTailImg = tail_right;      
    }    


    if (beforeTail - newTailLoc == 10) {      
      newTailImg = tail_up;   
      clearInterval(moving)   
    }    


    if (beforeTail - newTailLoc == -10) {      
      newTailImg = tail_down;      
    }    
  }    


  $("." + newTailLoc).html('<img src="' + newTailImg + '" class="tail">');      




  tailDirection = lastDirection;      
  lastDirection = direction;      


}  




$(document).keydown(function(event) {    


  if (!moving) {      
    moving = setInterval(moveSnake, 200);      
  }    




  if (event.keyCode === 39) {      
    if (direction != "left") {      
      direction = "right";      
    }      
  }    


  if (event.keyCode === 37) {      
    if (direction != "right") {      
      direction = "left";      
    }      
  }    


  if (event.keyCode === 38) {      
    if (direction != "down") {      
      direction = "up";      
    }      
  }    


  if (event.keyCode === 40) {      
    if (direction != "up") {      
      direction = "down";      
    }      
  }    


});    


});











</script>
</html>